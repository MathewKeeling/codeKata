Key Questions:

  1) Does fractional money exist?

  2) When (if ever) does rounding take place?

  3) How do you keep an audit trail of pricing decisions (and do you need to)?

  4) Are costs and prices the same class of thing?

  5) If a shelf of 100 cans is priced using "Buy two, get one free," how do you value the stock?

Goal:

  The goal of this kata is to practice a looser style of experimental modelling. Look for as many different ways of handling the issues as possible. Consider the various tradeoffs of each. What techniques are best for exploring these models? For recording them? How can you validate a model is reasonable?

First shower time result: 2022/02/06
  I will revisit this later and provide another answer.

1)
  Fractional money exists in the steps comprising the calculated total price the customer pays. The customer is incapable of rendering a fractional sum of cents, therefore at the time of payment the fractional cents must be discarded or rounded up.

2)
  Rounding should take place at the end of the totaling of the price. If you perform rounding too soon you reduce the resolution of the image that the total cost provides. Significant figures, etc.

  You should round as best fits the desires of the company. Rounding up or down doesn't matter--company just has to choose. (At the end of the totaling process)

3)
  During the calculation process, you can output the pricing decisions to the receipt per line item. For example:
    $0.65 - Can of beans
    $0.65 - Can of beans
    $0.65 - Can of beans
    $-1.05 - three for a dollar
  This receipt would be recorded and placed into records, and the customer would also receipt a copy.

4)
  Cost is the amount that the customer pays.

  Price is the amount that the store sets for an item.

  Cost is a generated by taking the sum of the items the customer selects and running it through the functions dictating the prices.

  For example: Three cans of beans are priced $1.95, but after accounting for the pricing mechanisms in place by the store, their cost is determined to be $1.00. Four would be $1.65, five, $2.30, and six, $2.00.

  Yeah, they're fundamentally different. But one is a derivative of the other with additional domain knowledge.

5)
  I think the answer to this question should be determined based on the fluidity of the sale with respect to time, and your sales historically.

  Something like:
    Stock Value =
      ( x/100 * (n/52) * (100 * 2/3) ) + ( 100-x/100 * (100 * 0.65 ))

      Where:
        N = Number of weeks the discount is in effect
        X = The percentage of sales that take advantage of the sales

      Then you can average the sales where the sale is taken advantage of an those which are not, and then you can estimate the value of your stock.

      I didn't work this out too thoroughly and I am totally aware there are flaws in my calculation and this is strictly a rough estimation, and as you get further from 52 weeks of sample data the estimation is more incorrect.
